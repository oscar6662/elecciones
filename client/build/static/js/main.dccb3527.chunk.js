(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){},27:function(e,t,a){e.exports=a.p+"static/media/VATSPA_LOGO.2300c949.png"},31:function(e,t,a){e.exports=a(48)},37:function(e,t,a){},38:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),l=a(14),u=a(2),s=a(5),o=a.n(s),i=a(9),m=a(1),d=(a(37),function(){return r.a.createElement("div",{className:"lds-facebook"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),f=(a(38),a(27)),p=a.n(f);function E(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),f=Object(m.a)(s,2),E=f[0],b=f[1],h=Object(n.useState)(""),v=Object(m.a)(h,2),j=v[0],O=v[1];Object(n.useEffect)(function(){(function(){var e=Object(i.a)(o.a.mark(function e(){var t,a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,fetch("/api/authenticated");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!0!==e.sent.loggedIn){e.next=16;break}return e.next=10,fetch("/api/user/name");case 10:return a=e.sent,e.next=13,a.json();case 13:n=e.sent,O(String(n)),c(!0);case 16:b(!1);case 17:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[!0]);var x=Object(u.f)().path;return r.a.createElement("div",{className:"nav"},r.a.createElement("div",{className:"content grid"},r.a.createElement(l.b,{to:"/"},r.a.createElement("img",{src:p.a,alt:"Logo"})),r.a.createElement("h1",null,{"/form":"Formulario de aplicaci\xf3n para la posici\xf3n de Director","/candidates":"Candidatos para Director de vACC","/vote":"Votar","/":"Elecciones VATSPA 2021"}[x]),E?r.a.createElement(d,null):a?r.a.createElement("a",{href:"/api/logout"},j):r.a.createElement("a",{href:"/api/auth"},"Iniciar Sesi\xf3n")))}a(43);function b(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(!1),l=Object(m.a)(c,2),u=(l[0],l[1]);return Object(n.useEffect)(function(){(function(){var e=Object(i.a)(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,fetch("/api/user");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(n),a(n),u(!1);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[!0]),r.a.createElement("div",{className:"screen"},r.a.createElement(E,null),r.a.createElement("section",{className:"index grid"},r.a.createElement("div",{className:"box col-3 col-md-12 col-sm-12"},r.a.createElement("a",{href:"/form"},r.a.createElement("h1",null,"Presentar Candidato")),r.a.createElement("p",null,"Crees tener lo que se require para dirigir el vACC espanol?")),r.a.createElement("div",{className:"box col-3 col-md-12 col-sm-12"},r.a.createElement("a",{href:"/candidates"},r.a.createElement("h1",null,"Candidatos")),r.a.createElement("p",null,"Candidatos presentados hasta el momento")),r.a.createElement("div",{className:"box col-3 col-md-12 col-sm-12"},r.a.createElement("h2",null,"6 de Septiembre"),r.a.createElement("a",{href:"#"},r.a.createElement("h1",null,"Votar")),r.a.createElement("p",null,"Guardate la fecha y no olvides votar!"))))}a(44);var h=function(){return r.a.createElement("div",{className:"lds-dual-ring"})};a(25);function v(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),u=Object(m.a)(l,2),s=(u[0],u[1]),d=Object(n.useState)(!1),f=Object(m.a)(d,2),p=(f[0],f[1],Object(n.useState)([])),E=Object(m.a)(p,2);E[0],E[1];return Object(n.useEffect)(function(){(function(){var e=Object(i.a)(o.a.mark(function e(){var t,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch("/api/candidates");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s(a),c(!1);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[!0]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(h,null):r.a.createElement("p",null,"done"))}var j=a(30);function O(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!0),u=Object(m.a)(l,2),s=u[0],d=u[1];return Object(n.useEffect)(function(){(function(){var e=Object(i.a)(o.a.mark(function e(){var t,a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,fetch("/api/authenticated");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!0!==e.sent.loggedIn){e.next=16;break}return e.next=10,fetch("/api/user/");case 10:return a=e.sent,e.next=13,a.json();case 13:n=e.sent,console.log(n),c(n);case 16:d(!1);case 17:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[!0]),r.a.createElement(r.a.Fragment,null,s?r.a.createElement(h,null):r.a.createElement(j.a,{initialValues:{name:a.personal.name_full,id:a.cid,email:a.personal.email},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(e,t){var a=t.setSubmitting;setTimeout(function(){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,id:e.id,email:e.email,text:e.text})};fetch("/api/candidate",t).then(function(e){return e.json()}).then(function(e){return console.log(e)}),a(!1)},400)}},function(e){var t=e.values,a=e.errors,n=e.touched,c=e.handleChange,l=e.handleBlur,u=e.handleSubmit,s=e.isSubmitting;return r.a.createElement("form",{onSubmit:u},r.a.createElement("label",{className:"row"},"Datos Personales"),r.a.createElement("hr",null),r.a.createElement("label",null,"Nombre:"),r.a.createElement("input",{type:"name",name:"name",onChange:c,onBlur:l,value:t.name,disabled:!0}),r.a.createElement("label",null,"CID:"),r.a.createElement("input",{type:"name",name:"id",onChange:c,onBlur:l,value:t.id,disabled:!0}),r.a.createElement("label",null,"E-mail:"),r.a.createElement("input",{type:"email",name:"email",onChange:c,onBlur:l,value:t.email}),a.email&&n.email&&a.email,r.a.createElement("label",{className:"row"},"Propuestas"),r.a.createElement("hr",null),r.a.createElement("textarea",{type:"text",name:"propuestas",onChange:c,onBlur:l,value:t.propuestas}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",disabled:s},"Submit"))}))}function x(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),u=Object(m.a)(l,2),s=u[0],d=u[1],f=Object(n.useState)(!1),p=Object(m.a)(f,2),b=p[0],v=p[1],j=Object(n.useState)([]),x=Object(m.a)(j,2),g=x[0],S=x[1];return Object(n.useEffect)(function(){(function(){var e=Object(i.a)(o.a.mark(function e(){var t,a,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch("/api/authenticated");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.next=9,fetch("/api/candidate/requisites");case 9:return n=e.sent,e.next=12,n.json();case 12:!0===(r=e.sent).response?v(!0):S(r.response),!0===a.loggedIn&&d(!0),c(!1);case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[!0]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:"form"},a?r.a.createElement(h,null):s?b?r.a.createElement(O,null):r.a.createElement("div",{className:"errors"},r.a.createElement("p",null,"No te puedes presentar como director ya que:"),"error"===g.division&&r.a.createElement("p",null,"No est\xe1s asignado a la divisi\xf3n espanola"),"error"===g.rating&&r.a.createElement("p",null,"Tu Rango no es el suficiente")):r.a.createElement("a",{href:"/api/auth"},"You must Log In")))}a(45);function g(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),u=Object(m.a)(l,2),s=u[0],d=u[1],f=Object(n.useState)(!1),p=Object(m.a)(f,2),b=(p[0],p[1],Object(n.useState)([])),v=Object(m.a)(b,2);v[0],v[1];return Object(n.useEffect)(function(){(function(){var e=Object(i.a)(o.a.mark(function e(){var t,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch("/api/candidates");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),d(a),c(!1);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[!0]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement("div",{className:" grid box-pool"},a?r.a.createElement("div",{className:"box col-3 col-md-12 col-sm-12"},r.a.createElement(h,null)):s.map(function(e){return r.a.createElement("div",{className:"box col-3 col-md-12 col-sm-12"},r.a.createElement("h1",null,e.name),r.a.createElement("hr",null),r.a.createElement("p",null,e.text))})))}a(46),a(47);function S(){return r.a.createElement(l.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:b}),r.a.createElement(u.a,{exact:!0,path:"/form",component:x}),r.a.createElement(u.a,{exact:!0,path:"/candidates",component:g}),r.a.createElement(u.a,{exact:!0,path:"/vote",component:v}),r.a.createElement(u.a,{path:"**",component:b})))}Object(c.render)(r.a.createElement(l.a,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.dccb3527.chunk.js.map